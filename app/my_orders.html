<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„è®¢å•</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f8f8f8;
            font-family: 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;
        }
        .top-bar {
            background: #1686ff;
            color: #fff;
            padding: 0;
            position: relative;
            height: 170px; /* å¢åŠ é«˜åº¦ï¼Œé¿å…tabé‡å  */
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
        }
        .status-bar {
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 16px;
            font-size: 14px;
        }
        .back-btn {
            position: absolute;
            left: 16px;
            top: 56px;
            width: 28px;
            height: 28px;
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
        }
        .title {
            text-align: center;
            font-size: 22px;
            font-weight: 500;
            margin-top: 56px;
            letter-spacing: 1px;
        }
        .order-icon {
            position: absolute;
            right: 24px;
            top: 48px;
            width: 56px;
            height: 56px;
        }
        .tab-bar {
            background: #fff;
            display: flex;
            border-radius: 16px 16px 0 0;
            margin-top: -12px; /* è®©tabæ ç´§è´´è“è‰²åŒºåŸŸåº•éƒ¨ */
            box-shadow: 0 2px 8px rgba(22,134,255,0.08);
            overflow: hidden;
        }
        .tab-item {
            flex: 1;
            text-align: center;
            padding: 14px 0 12px 0;
            font-size: 16px;
            color: #222;
            cursor: pointer;
            position: relative;
        }
        .tab-item.active {
            color: #1686ff;
            font-weight: 600;
        }
        .tab-item.active::after {
            content: '';
            display: block;
            width: 32px;
            height: 3px;
            background: #1686ff;
            border-radius: 2px;
            margin: 8px auto 0 auto;
        }
        .order-list {
            margin: 0;
            padding: 0 0 24px 0;
        }
        .order-card {
            background: #fff;
            border-radius: 14px;
            margin: 18px 16px 0 16px;
            box-shadow: 0 2px 8px rgba(22,134,255,0.04);
            padding: 18px 16px 12px 16px;
        }
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 15px;
            color: #222;
        }
        .order-time {
            color: #222;
            font-size: 15px;
        }
        .order-status {
            color: #1686ff;
            font-size: 15px;
        }
        .order-body {
            display: flex;
            margin-top: 12px;
        }
        .course-img {
            width: 56px;
            height: 56px;
            border-radius: 8px;
            object-fit: cover;
            margin-right: 12px;
            background: #eee;
        }
        .course-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .course-title {
            font-size: 16px;
            color: #222;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 8px;
        }
        .order-amount {
            color: #ff3b30;
            font-size: 15px;
            font-weight: 500;
            margin-top: 2px;
        }
        .order-actions {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-top: 16px;
            gap: 12px;
        }
        .order-btn {
            background: #f5f5f5;
            color: #bbb;
            border: none;
            border-radius: 16px;
            padding: 6px 18px;
            font-size: 15px;
            cursor: pointer;
        }
        .order-btn.primary {
            background: #1686ff;
            color: #fff;
            cursor: pointer;
        }
        /* é€€è¯¾ç”³è¯·å¼¹çª—æ ·å¼ */
        .modal-mask {
            position: fixed;
            left: 0; top: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.25);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        .modal {
            background: #fff;
            border-radius: 12px;
            width: 88vw;
            max-width: 380px;
            box-shadow: 0 8px 32px rgba(22,134,255,0.12);
            padding: 24px 20px 18px 20px;
            display: flex;
            flex-direction: column;
        }
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #222;
            margin-bottom: 16px;
            text-align: center;
        }
        .modal textarea {
            width: 100%;
            min-height: 64px;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            font-size: 15px;
            padding: 8px;
            resize: none;
            margin-bottom: 10px;
        }
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 8px;
        }
        .modal-btn {
            border: none;
            border-radius: 16px;
            padding: 6px 20px;
            font-size: 15px;
            cursor: pointer;
        }
        .modal-btn.cancel {
            background: #f5f5f5;
            color: #888;
        }
        .modal-btn.submit {
            background: #1686ff;
            color: #fff;
        }
        .modal-error {
            color: #ff3b30;
            font-size: 13px;
            margin-bottom: 6px;
            text-align: left;
            min-height: 18px;
        }
        .textarea-wrapper {
            position: relative;
            width: 100%;
        }
        .textarea-wrapper textarea {
            width: 100%;
            box-sizing: border-box;
            padding-bottom: 28px;
            padding-right: 60px;
            resize: none;
        }
        .modal-char-count {
            position: absolute;
            right: 16px;
            bottom: 22px;
            color: #888;
            font-size: 13px;
            background: #fff;
            line-height: 1;
            pointer-events: none;
            z-index: 2;
            padding: 0 2px;
        }
        @media (max-width: 500px) {
            .order-card { margin: 14px 4px 0 4px; }
            .modal-char-count {
                right: 10px;
                bottom: 18px;
                font-size: 12px;
            }
            .textarea-wrapper textarea {
                padding-right: 44px;
                padding-bottom: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="status-bar">
            <!-- çŠ¶æ€æ å ä½ï¼Œå¯æ ¹æ®éœ€è¦è‡ªå®šä¹‰ -->
            <span style="margin-left:auto;">24</span>
            <span style="margin-left:8px;">ğŸ”‹</span>
        </div>
        <button class="back-btn">&#8592;</button>
        <div class="title">æˆ‘çš„è®¢å•</div>
        <img class="order-icon" src="data:image/svg+xml;utf8,<svg width='56' height='56' viewBox='0 0 56 56' fill='none' xmlns='http://www.w3.org/2000/svg'><rect x='8' y='12' width='40' height='32' rx='4' fill='%23fff'/><rect x='16' y='20' width='24' height='4' rx='2' fill='%231686ff'/><rect x='16' y='28' width='16' height='4' rx='2' fill='%231686ff'/><rect x='16' y='36' width='12' height='4' rx='2' fill='%231686ff'/><circle cx='44' cy='44' r='6' fill='%23fff'/><path d='M44 40v4l2 2' stroke='%231686ff' stroke-width='2' stroke-linecap='round'/></svg>" alt="è®¢å•å›¾æ ‡" />
    </div>
    <div class="tab-bar">
        <div class="tab-item active">å…¨éƒ¨</div>
        <div class="tab-item">å¾…ä»˜æ¬¾</div>
        <div class="tab-item">å·²å®Œæˆ</div>
        <div class="tab-item">é€€æ¬¾/å”®å</div>
    </div>
    <div class="order-list">
        <div class="order-card">
            <div class="order-header">
                <span class="order-time">2025-07-11 14:57:54</span>
                <span class="order-status">å·²å®Œæˆ</span>
            </div>
            <div class="order-body">
                <img class="course-img" src="https://img1.imgtp.com/2023/07/21/8QwQwQwQ.png" alt="è¯¾ç¨‹å›¾ç‰‡" />
                <div class="course-info">
                    <div class="course-title">æ–½å·¥æˆæœ¬è®¡åˆ’ç¼–åˆ¶æ ¸å¿ƒçŸ¥è¯†ç‚¹ä¸æ¡ˆä¾‹</div>
                    <div class="order-amount">æ€»é‡‘é¢ ï¿¥5</div>
                </div>
            </div>
            <div class="order-actions">
                <button class="order-btn refund-btn">ç”³è¯·é€€è¯¾</button>
                <button class="order-btn">è¯„ä»·</button>
                <button class="order-btn primary">æŸ¥çœ‹è¯¦æƒ…</button>
            </div>
        </div>
        <div class="order-card">
            <div class="order-header">
                <span class="order-time">2025-07-11 10:50:39</span>
                <span class="order-status">å·²å®Œæˆ</span>
            </div>
            <div class="order-body">
                <img class="course-img" src="https://img1.imgtp.com/2023/07/21/8QwQwQwQ.png" alt="è¯¾ç¨‹å›¾ç‰‡" />
                <div class="course-info">
                    <div class="course-title">äºŒçº§å»ºé€ å¸ˆç»§ç»­æ•™è‚²ï¼ˆæ°´åˆ©æ°´ç”µå·¥ç¨‹ï¼‰åŸ¹è®­è¯¾ç¨‹ï¼ˆäºŒï¼‰</div>
                    <div class="order-amount">æ€»é‡‘é¢ ï¿¥150</div>
                </div>
            </div>
            <div class="order-actions">
                <button class="order-btn refund-btn">ç”³è¯·é€€è¯¾</button>
                <button class="order-btn">è¯„ä»·</button>
                <button class="order-btn primary">æŸ¥çœ‹è¯¦æƒ…</button>
            </div>
        </div>
        <div class="order-card">
            <div class="order-header">
                <span class="order-time">2025-07-11 10:50:39</span>
                <span class="order-status">å·²å®Œæˆ</span>
            </div>
            <div class="order-body">
                <img class="course-img" src="https://img1.imgtp.com/2023/07/21/8QwQwQwQ.png" alt="è¯¾ç¨‹å›¾ç‰‡" />
                <div class="course-info">
                    <div class="course-title">äºŒçº§å»ºé€ å¸ˆç»§ç»­æ•™è‚²ï¼ˆæ°´åˆ©æ°´ç”µå·¥ç¨‹ï¼‰åŸ¹è®­è¯¾ç¨‹ï¼ˆä¸€ï¼‰</div>
                    <div class="order-amount">æ€»é‡‘é¢ ï¿¥150</div>
                </div>
            </div>
            <div class="order-actions">
                <button class="order-btn refund-btn">ç”³è¯·é€€è¯¾</button>
                <button class="order-btn">è¯„ä»·</button>
                <button class="order-btn primary">æŸ¥çœ‹è¯¦æƒ…</button>
            </div>
        </div>
    </div>
    <!-- é€€è¯¾ç”³è¯·å¼¹çª— -->
    <div class="modal-mask" id="refundModalMask">
        <div class="modal">
            <div class="modal-title">ç”³è¯·é€€è¯¾</div>
            <div class="modal-error" id="refundError"></div>
            <div class="textarea-wrapper">
                <textarea id="refundReason" placeholder="è¯·å¡«å†™é€€è¯¾åŸå› ï¼ˆå¿…å¡«ï¼‰" maxlength="200"></textarea>
                <span class="modal-char-count" id="refundCharCount">1/200</span>
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" id="refundCancelBtn">å–æ¶ˆ</button>
                <button class="modal-btn submit" id="refundSubmitBtn">æäº¤</button>
            </div>
        </div>
    </div>
    <script>
    // é€€è¯¾å¼¹çª—é€»è¾‘
    const refundBtns = document.querySelectorAll('.refund-btn');
    const refundModal = document.getElementById('refundModalMask');
    const refundCancelBtn = document.getElementById('refundCancelBtn');
    const refundSubmitBtn = document.getElementById('refundSubmitBtn');
    const refundReason = document.getElementById('refundReason');
    const refundError = document.getElementById('refundError');
    const refundCharCount = document.getElementById('refundCharCount');
    refundBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            refundModal.style.display = 'flex';
            refundReason.value = '';
            refundError.textContent = '';
            refundCharCount.textContent = '1/200';
        });
    });
    refundCancelBtn.onclick = function() {
        refundModal.style.display = 'none';
    };
    refundSubmitBtn.onclick = function() {
        if (!refundReason.value.trim()) {
            refundError.textContent = 'é€€è¯¾åŸå› ä¸èƒ½ä¸ºç©º';
            refundReason.focus();
            return;
        }
        refundError.textContent = '';
        refundModal.style.display = 'none';
        alert('é€€è¯¾ç”³è¯·å·²æäº¤ï¼š' + refundReason.value.trim());
    };
    // ç‚¹å‡»é®ç½©å…³é—­å¼¹çª—ï¼ˆå¯é€‰ï¼‰
    refundModal.addEventListener('click', function(e) {
        if (e.target === refundModal) refundModal.style.display = 'none';
    });

    // é€€è¯¾åŸå› å­—æ•°ç»Ÿè®¡å’Œé™åˆ¶
    refundReason.addEventListener('input', function() {
        let val = refundReason.value;
        if (val.length > 200) {
            refundReason.value = val.slice(0, 200);
            val = refundReason.value;
        }
        refundCharCount.textContent = (val.length === 0 ? 1 : val.length) + '/200';
    });

    // è®¢å•å¡ç‰‡å’ŒæŸ¥çœ‹è¯¦æƒ…æŒ‰é’®è·³è½¬é€»è¾‘
    // ä¿è¯æ‰€æœ‰â€œæŸ¥çœ‹è¯¦æƒ…â€æŒ‰é’®éƒ½èƒ½è·³è½¬åˆ° order_detail.html
    // å¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡

    document.querySelectorAll('.order-btn.primary, .view-detail-btn').forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        window.location.href = 'order_detail.html';
      });
    });
    </script>
</body>
</html> 